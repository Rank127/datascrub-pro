{
  "$schema": "https://openapi.vercel.sh/vercel.json",
  "framework": "nextjs",
  "buildCommand": "prisma db push --accept-data-loss && prisma generate && next build",
  "installCommand": "npm install",
  "regions": ["iad1"],
  "rewrites": [
    {
      "source": "/BingSiteAuth.xml",
      "destination": "/api/bing-verify"
    },
    {
      "source": "/",
      "has": [{ "type": "host", "value": "admin.ghostmydata.com" }],
      "destination": "/admin"
    },
    {
      "source": "/login",
      "has": [{ "type": "host", "value": "admin.ghostmydata.com" }],
      "destination": "/admin/login"
    },
    {
      "source": "/dashboard",
      "has": [{ "type": "host", "value": "admin.ghostmydata.com" }],
      "destination": "/admin/dashboard"
    },
    {
      "source": "/:path*",
      "has": [{ "type": "host", "value": "admin.ghostmydata.com" }],
      "destination": "/admin/:path*"
    }
  ],
  "crons": [
    {
      "path": "/api/cron/monitoring",
      "schedule": "0 6 * * *"
    },
    {
      "path": "/api/cron/reports",
      "schedule": "0 8 * * 1"
    },
    {
      "path": "/api/cron/health-check",
      "schedule": "0 7 * * *"
    },
    {
      "path": "/api/cron/seo-agent",
      "schedule": "0 9 * * 0"
    },
    {
      "path": "/api/cron/verify-removals",
      "schedule": "0 8 * * *"
    },
    {
      "path": "/api/cron/follow-up-reminders",
      "schedule": "0 9 * * *"
    },
    {
      "path": "/api/cron/monthly-rescan",
      "schedule": "0 10 1 * *"
    },
    {
      "path": "/api/cron/link-checker",
      "schedule": "0 5 * * *"
    }
  ]
}
